factory: form
name: sharingbox_add_edit
props:
    action: expr:context.action
    class: edit-form enableUnloadProtection
widgets:


- features:
    factory: fieldset
    props:
        structural: True
        class: sharingbox-features
    widgets:

    - is_thread:
        factory: field:label:checkbox
        value: expr:context.get('is_thread')
        props:
            label: Thread
            label.title: I want to create a thread...

    - is_event:
        factory: field:label:checkbox
        value: expr:context.get('is_event')
        props:
            label: Event
            label.title: I want to create an event...

    - is_place:
        factory: field:label:checkbox
        value: expr:context.get('is_place')
        props:
            label: Place
            label.title: I want to add a place...


- features-base:
    factory: fieldset
    props:
        structural: True
        class: sharingbox-base
    widgets:

    - title:
        factory: field:label:error:text
        value: expr:context.get('title')
        props:
            label: Title

    - text:
        factory: field:label:error:wysihtml5
        value: expr:context.get('text')
        props:
            label: Text
            label.title: Share some content with us!
            rows: 5
            focus: True
            resize: True
            size: mini
            stylesheet: /++resource++g24.elements/views.css
            color: True
            emphasis: True
            font-styles: True
            html: True
            image: True
            justify: True
            link: True
            lists: True

    - subjects:
        factory: field:label:error:lines
        value: expr:context.get('subjects')
        props:
            label: Tags
            label.title: Tag the content with categories, so that it can be better found.
            rows: 4
            cols: 10
            class: autosuggest autosuggest-vocabulary-query_tags


- features-event:
    factory: fieldset
    props:
        structural: True
        class: sharingbox-event
    widgets:
    - start:
        factory: field:label:error:datetime
        value: expr:context.get('start')
        props:
            label: Start Date and Time
            label.title: Date and Time, when the Event begins. E.g. 10.10.2010 10:00
            format: '%Y-%m-%d %H:%M'
            datepicker: True,
            time: True

    - end:
        factory: field:label:error:datetime
        value: expr:context.get('end')
        props:
            label: End Date and Time
            label.title: Date and Time, when the Event ends. E.g. 10.10.2010 11:00. It's the single's event end, not of a recurrence, if one is defined.
            format: '%Y-%m-%d %H:%M'
            datepicker: True,
            time: True

    - whole_day:
        factory: field:label:error:checkbox
        value: expr:context.get('whole_day')
        props:
            label: Whole Day
            label.title: The event lasts the whole day. Start and end times are not used.

    - timezone:
        factory: field:label:error:text
        value: expr:context.get('timezone')
        props:
            label: Timezone
            label.title: The timezone, this event happens.
            class: autosuggest autosuggest-vocabulary-query_timezones

    - recurrence:
        factory: field:label:error:textarea
        value: expr:context.get('recurrence')
        props:
            label: Recurrence
            label.title: This event has a recurrence rule.
            rows: 2

    - location:
        factory: field:label:error:text
        value: expr:context.get('location')
        props:
            label: Location
            label.title: The place where the event happens.
            class: autosuggest autosuggest-vocabulary-query_locations


- form-controls:
    factory: fieldset
    props:
        structural: True
        class: sharingbox-controls
    widgets:
    - save:
        factory: submit
        props:
            action: save
            expression: True
            handler: context.save
            next: context.next
            label: Save

    - cancel:
        factory: submit
        props:
            action: False
            expression: True
            skip: True
            next: context.next
            label: Cancel
