factory: form
name: sharingbox_add_edit
props:
    action: expr:context.action
    class: edit-form enableUnloadProtection
widgets:


- features:
    factory: fieldset
    widgets:

    - is_thread:
        factory: field:label:checkbox
        value: expr:context.is_thread
        props:
            label: Thread
            label.title: I want to create a thread...

    - is_event:
        factory: field:label:checkbox
        value: expr:context.is_event
        props:
            label: Event
            label.title: I want to create an event...

    - is_place:
        factory: field:label:checkbox
        value: expr:context.is_place
        props:
            label: Place
            label.title: I want to add a place...


- features-base:
    factory: fieldset
    widgets:

    - title:
        factory: field:label:error:text
        value: expr:context.get('title', 'features-base')
        props:
            label: Title

    - text:
        factory: field:label:error:textarea
        value: expr:context.get('text', 'features-base')
        props:
            label: Text
            label.title: Share some content with us!
            rows: 5

    - subjects:
        factory: field:label:error:lines
        value: expr:context.get('subjects', 'features-base')
        props:
            label: Tags
            label.title: Tag the content with categories, so that it can be better found.
            rows: 4
            cols: 10
            class: autosuggest autosuggest-vocabulary-query_tags


- features-event:
    factory: fieldset
    widgets:
    - start:
        factory: field:label:error:datetime
        value: expr:context.get('start', 'features-event')
        props:
            label: Start Date and Time
            label.title: Date and Time, when the Event begins. E.g. 10.10.2010 10:00
            format: '%Y-%m-%d %H:%M'
            datepicker: True,
            time: True

    - end:
        factory: field:label:error:datetime
        value: expr:context.get('end', 'features-event')
        props:
            label: End Date and Time
            label.title: Date and Time, when the Event ends. E.g. 10.10.2010 11:00. It's the single's event end, not of a recurrence, if one is defined.
            format: '%Y-%m-%d %H:%M'
            datepicker: True,
            time: True

    - whole_day:
        factory: field:label:error:checkbox
        value: expr:context.get('whole_day', 'features-event')
        props:
            label: Whole Day
            label.title: The event lasts the whole day. Start and end times are not used.

    - timezone:
        factory: field:label:error:text
        value: expr:context.get('timezone', 'features-event')
        props:
            label: Timezone
            label.title: The timezone, this event happens.
            class: autosuggest autosuggest-vocabulary-query_timezones

    - recurrence:
        factory: field:label:error:textarea
        value: expr:context.get('recurrence', 'features-event')
        props:
            label: Recurrence
            label.title: This event has a recurrence rule.
            rows: 2

    - location:
        factory: field:label:error:text
        value: expr:context.get('location', 'features-event')
        props:
            label: Location
            label.title: The place where the event happens.
            class: autosuggest autosuggest-vocabulary-query_locations


- form-controls:
    factory: fieldset
    widgets:
    - save:
        factory: submit
        props:
            action: save
            expression: True
            handler: context.save
            next: context.next
            label: Save

    - cancel:
        factory: submit
        props:
            action: False
            expression: True
            skip: True
            next: context.next
            label: Cancel
